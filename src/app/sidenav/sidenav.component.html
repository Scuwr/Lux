<!-- STORIES SIDEBAR -->
<div id="mySidenav" class="sidenav" [ngClass]="{'sidenav-visible': sidenavVisible}">
  <!-- STORIES TOOLBAR -->
  <!-- <p-toolbar> -->
          <!-- <p-button icon="pi pi-plus" (onClick)="sidebar_add_new_stories()" pTooltip="Add New Story"></p-button>
          <p-button icon="pi pi-trash" styleClass="p-button-danger ui-button" pTooltip="Clear Everything" [ngStyle]="{'margin-right':'8px'}" (onClick)="sidebar_clear_all_stories()"></p-button>
          <p-button icon="pi pi-google" styleClass="p-button-warning ui-button" pTooltip="Load From Clipboard" (onClick)="sidebar_load_data_from_clipboard()"></p-button>
          <p-button icon="pi pi-file-o" styleClass="p-button-warning ui-button" pTooltip="Load From File" [ngStyle]="{'margin-right':'8px'}" (onClick)="sidebar_load_data_from_file()"></p-button>
          <p-button icon="pi pi-save" styleClass="ui-button" pTooltip="Save to File" (onClick)="sidebar_export()"></p-button> -->
  <!-- </p-toolbar> -->
  <!-- SEARCH BOX -->
  <input type="text" pInputText 
      (input)="sidenavSearchInput($event.target.value, false)" 
      (keyup.enter)="sidenavSearchInput($event.target.value, true)"
      (focus)="onFocusKeyboardElement($event)" (blur)="onFocusKeyboardElement()"
    > 
  <!-- STORY LIST -->
  <p-table [value]="filteredStories" [scrollable]="true" scrollHeight="calc(100vh - 155px)" (onPageChange)="paginate($event)">
    <ng-template pTemplate="header">
        <tr>
            <th style="max-width:50px">Story</th>
            <th style="text-align: right" *ngIf="selectedStoryIndex >= 0">{{selectedStoryIndex+1}}/{{allStories.length}}</th>
          </tr>
    </ng-template>
    <ng-template pTemplate="body" let-story let-rowIndex="rowIndex">
        <tr #storyRow (click)="sidebarClickStory(story)">
            <td class="storyrow" [ngClass]="{'selected': story.key==selectedStory?.key, 'completed': !!story.completed}" >
              {{rowIndex+1}}:{{story.text}}
            </td>
        </tr>
    </ng-template>
  </p-table>
</div>
